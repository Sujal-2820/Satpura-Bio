services:
  - type: web
    name: ira-sathi-backend
    env: node
    # Try different paths - Render will use the first that works
    buildCommand: |
      if [ -d "Backend" ]; then
        cd Backend && npm install
      elif [ -d "FarmCommerce/Backend" ]; then
        cd FarmCommerce/Backend && npm install
      else
        npm install
      fi
    startCommand: |
      if [ -d "Backend" ]; then
        cd Backend && npm start
      elif [ -d "FarmCommerce/Backend" ]; then
        cd FarmCommerce/Backend && npm start
      else
        npm start
      fi
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        fromService:
          type: web
          name: ira-sathi-backend
          property: port
      # Add your environment variables in Render dashboard:
      # - MONGO_URI
      # - JWT_SECRET
      # - CORS_ORIGINS (comma-separated frontend URLs)
      # - SMS_INDIA_HUB_API_KEY
      # - RAZORPAY_KEY_ID
      # - RAZORPAY_KEY_SECRET
      # - CLOUDINARY_URL
      # And other required env vars

